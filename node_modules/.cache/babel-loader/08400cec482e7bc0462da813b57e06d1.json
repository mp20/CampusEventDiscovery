{"ast":null,"code":"var _jsxFileName = \"/Users/money/Documents/CampusDiscovery/src/InvitesPopup.js\";\nimport { Component } from \"react\";\nimport AttendeeItem from \"./Components/AttendeeItem\";\nimport \"./Stylesheets/index.css\";\nimport \"./Stylesheets/Popup.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass InvitesPopup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      leftPopulation: [],\n      rightPopulation: []\n    };\n    this.getAttending = this.getAttending.bind(this);\n    this.generateAttendingUserRows = this.generateAttendingUserRows.bind(this);\n    this.generateInviteUserRows = this.generateInviteUserRows.bind(this);\n    this.getAllUsers = this.getAllUsers.bind(this);\n    this.removeAttendingUser = this.removeAttendingUser.bind(this);\n    this.inviteUser = this.inviteUser.bind(this);\n    this.getAttending();\n    this.getAllUsers();\n  }\n  getAttending() {\n    // get attendees\n    fetch(`http://localhost:8080/api/get-attendees/attendees/${this.props.event.eventID}`, {\n      method: \"GET\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(response => {\n      this.setState({\n        leftPopulation: response.attendees\n      });\n    });\n  }\n  getAllUsers() {\n    fetch(`http://localhost:8080/api/get-all-users/`, {\n      method: \"GET\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(response => {\n      let filtered = response.users.filter(user => {\n        return user[0] != this.props.currentUser;\n      });\n      this.setState({\n        rightPopulation: filtered\n      });\n    });\n  }\n  generateAttendingUserRows() {\n    let rows = [];\n    for (let i = 0; i < this.state.leftPopulation.length; i++) {\n      let item = this.state.leftPopulation[i];\n      rows.push( /*#__PURE__*/_jsxDEV(AttendeeItem, {\n        userID: item[0],\n        index: i,\n        name: item[1],\n        remove: this.removeAttendingUser\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 23\n      }, this));\n    }\n    return rows;\n  }\n  generateInviteUserRows() {\n    let rows = [];\n    for (let i = 0; i < this.state.rightPopulation.length; i++) {\n      let item = this.state.rightPopulation[i];\n      rows.push( /*#__PURE__*/_jsxDEV(AttendeeItem, {\n        userID: item[0],\n        eventID: this.props.event.eventID,\n        index: i,\n        name: item[1],\n        addIcon: true,\n        remove: this.inviteUser\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 23\n      }, this));\n    }\n    return rows;\n  }\n  removeAttendingUser(userID) {\n    fetch(`http://localhost:8080/api/remove-attendees/attendees/${this.props.event.eventID}`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify([userID])\n    }).then(() => {\n      this.getAttending();\n    });\n  }\n  inviteUser(userID, completionHandler) {\n    fetch(`http://localhost:8080/api/invite/${this.props.event.eventID}`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify([userID])\n    }).then(() => {\n      this.getAllUsers();\n      completionHandler();\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popup\",\n        onClick: this.props.hide\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"attendees-tile\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"attendees-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"attendees-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"primary-header\",\n              children: \"Attending\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"attendees-well\",\n              children: this.generateAttendingUserRows()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"attendees-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"primary-header\",\n              children: \"Invite Users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"attendees-well\",\n              children: this.generateInviteUserRows()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default InvitesPopup;","map":{"version":3,"names":["Component","AttendeeItem","InvitesPopup","constructor","props","state","leftPopulation","rightPopulation","getAttending","bind","generateAttendingUserRows","generateInviteUserRows","getAllUsers","removeAttendingUser","inviteUser","fetch","event","eventID","method","mode","cache","credentials","headers","then","response","json","setState","attendees","filtered","users","filter","user","currentUser","rows","i","length","item","push","userID","body","JSON","stringify","completionHandler","render","hide"],"sources":["/Users/money/Documents/CampusDiscovery/src/InvitesPopup.js"],"sourcesContent":["import { Component } from \"react\";\nimport AttendeeItem from \"./Components/AttendeeItem\";\nimport \"./Stylesheets/index.css\";\nimport \"./Stylesheets/Popup.css\";\n\nclass InvitesPopup extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            leftPopulation: [],\n            rightPopulation: []\n        }\n\n        this.getAttending = this.getAttending.bind(this);\n        this.generateAttendingUserRows = this.generateAttendingUserRows.bind(this);\n        this.generateInviteUserRows = this.generateInviteUserRows.bind(this);\n        this.getAllUsers = this.getAllUsers.bind(this);\n        this.removeAttendingUser = this.removeAttendingUser.bind(this);\n        this.inviteUser = this.inviteUser.bind(this);\n\n        this.getAttending();\n        this.getAllUsers();\n    }\n\n    getAttending() {\n\n        // get attendees\n        fetch(`http://localhost:8080/api/get-attendees/attendees/${this.props.event.eventID}`, {\n            method: \"GET\",\n            mode: \"cors\",\n            cache: \"no-cache\",\n            credentials: \"same-origin\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            }\n        }).then(response => response.json()).then(response => {\n            this.setState({ leftPopulation: response.attendees })\n        });\n    }\n\n    getAllUsers() {\n        fetch(`http://localhost:8080/api/get-all-users/`, {\n            method: \"GET\",\n            mode: \"cors\",\n            cache: \"no-cache\",\n            credentials: \"same-origin\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            }\n        }).then(response => response.json()).then(response => {\n            let filtered = response.users.filter(user => {\n                return user[0] != this.props.currentUser\n            })\n            this.setState({ rightPopulation: filtered })\n        });\n    }\n\n    generateAttendingUserRows() {\n        let rows = [];\n        for (let i = 0; i < this.state.leftPopulation.length; i++) {\n            let item = this.state.leftPopulation[i];\n\n            rows.push(<AttendeeItem\n                userID={item[0]}\n                key={i}\n                index={i}\n                name={item[1]}\n                remove={this.removeAttendingUser}\n            />);\n        }\n        return rows;\n    }\n\n    generateInviteUserRows() {\n        let rows = [];\n        for (let i = 0; i < this.state.rightPopulation.length; i++) {\n            let item = this.state.rightPopulation[i];\n            rows.push(<AttendeeItem\n                userID={item[0]}\n                eventID={this.props.event.eventID}\n                key={i}\n                index={i}\n                name={item[1]}\n                addIcon={true}\n                remove={this.inviteUser}\n            />);\n        }\n        return rows;\n    }\n\n    removeAttendingUser(userID) {\n\n        fetch(`http://localhost:8080/api/remove-attendees/attendees/${this.props.event.eventID}`, {\n            method: \"POST\",\n            mode: \"cors\",\n            cache: \"no-cache\",\n            credentials: \"same-origin\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify([userID])\n        }).then(() => { this.getAttending() });\n    }\n\n    inviteUser(userID, completionHandler) {\n        fetch(`http://localhost:8080/api/invite/${this.props.event.eventID}`, {\n            method: \"POST\",\n            mode: \"cors\",\n            cache: \"no-cache\",\n            credentials: \"same-origin\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify([userID])\n        }).then(() => { this.getAllUsers(); completionHandler(); });\n    }\n\n    render() {\n        return (\n            <div className=\"popup-container\">\n                <div className=\"popup\" onClick={this.props.hide} />\n                <div className=\"attendees-tile\">\n                    <div className=\"attendees-wrapper\">\n                        <div className=\"attendees-container\">\n                            <p className=\"primary-header\">\n                                Attending\n                            </p>\n                            <div className=\"attendees-well\">\n                                {this.generateAttendingUserRows()}\n                            </div>\n                        </div>\n                        <div className=\"attendees-container\">\n                            <p className=\"primary-header\">\n                                Invite Users\n                            </p>\n                            <div className=\"attendees-well\">\n                                {this.generateInviteUserRows()}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default InvitesPopup;"],"mappings":"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"},"metadata":{},"sourceType":"module"}