{"ast":null,"code":"var _jsxFileName = \"/Users/money/Documents/CampusDiscovery/src/Login.js\";\nimport React from \"react\";\nimport \"./Stylesheets/index.css\";\nimport { ReactComponent as CDLogo } from \"./images/Logo.svg\";\nimport PrimaryButton from \"./Components/PrimaryButton\";\nimport TextField from \"./Components/TextField\";\nimport FormDelegate from \"./FormDelegate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass LoginPage extends FormDelegate {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loginFailed: false\n    };\n    this.primaryButtonClicked = this.primaryButtonClicked.bind(this);\n    this.onSignupLink = this.onSignupLink.bind(this);\n    this.submitData = this.submitData.bind(this);\n    this.sendLogin = this.sendLogin.bind(this);\n    this.loginFailedExpression = this.loginFailedExpression.bind(this);\n  }\n  primaryButtonClicked(button) {\n    if (typeof this.fields[\"Username or Email\"] === \"string\" || typeof this.fields[\"Password\"] === \"string\") {\n      console.log(\"Could not submit. Not all fields are valid.\");\n    } else {\n      let username = this.fields[\"Username or Email\"].getValue();\n      let pass = this.fields[\"Password\"].getValue();\n      let obj = {};\n      obj[\"username\"] = username;\n      obj[\"password\"] = pass;\n      this.sendLogin(obj).then(response => {\n        console.log(response);\n        if (response.success) {\n          this.setState({\n            loginFailed: false\n          });\n          this.props.appendData(response);\n          this.props.changePage(\"dashboard\");\n        } else {\n          this.setState({\n            loginFailed: true\n          });\n        }\n      });\n    }\n  }\n  async sendLogin(obj) {\n    const response = await fetch(\"http://localhost:8080/api/login\", {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(obj)\n    });\n    return response.json();\n  }\n  onSignupLink(event) {\n    this.props.changePage(\"signup\");\n  }\n  loginFailedExpression() {\n    if (this.state.loginFailed) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"warning\",\n        children: \"Incorrect username or password.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 12\n    }, this);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"background\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo-container\",\n        children: /*#__PURE__*/_jsxDEV(CDLogo, {\n          className: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tile\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"primary-header\",\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Username or Email\",\n          isSecure: false,\n          fields: this.fields\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Password\",\n          isSecure: true,\n          fields: this.fields\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PrimaryButton, {\n          label: \"Log in\",\n          onClick: this.primaryButtonClicked\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"paragraph\",\n          children: [\"Not already a user?\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"login-link\",\n            onClick: this.onSignupLink,\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), this.loginFailedExpression()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default LoginPage;","map":{"version":3,"names":["React","ReactComponent","CDLogo","PrimaryButton","TextField","FormDelegate","LoginPage","constructor","props","state","loginFailed","primaryButtonClicked","bind","onSignupLink","submitData","sendLogin","loginFailedExpression","button","fields","console","log","username","getValue","pass","obj","then","response","success","setState","appendData","changePage","fetch","method","mode","cache","credentials","headers","body","JSON","stringify","json","event","render"],"sources":["/Users/money/Documents/CampusDiscovery/src/Login.js"],"sourcesContent":["import React from \"react\";\nimport \"./Stylesheets/index.css\";\nimport { ReactComponent as CDLogo } from \"./images/Logo.svg\";\nimport PrimaryButton from \"./Components/PrimaryButton\";\nimport TextField from \"./Components/TextField\";\nimport FormDelegate from \"./FormDelegate\";\n\nclass LoginPage extends FormDelegate {\n  constructor(props) {\n    super(props);\n\n\n    this.state = { loginFailed: false };\n\n    this.primaryButtonClicked = this.primaryButtonClicked.bind(this);\n    this.onSignupLink = this.onSignupLink.bind(this);\n    this.submitData = this.submitData.bind(this);\n    this.sendLogin = this.sendLogin.bind(this);\n    this.loginFailedExpression = this.loginFailedExpression.bind(this);\n  }\n\n  primaryButtonClicked(button) {\n    if (typeof this.fields[\"Username or Email\"] === \"string\" || typeof this.fields[\"Password\"] === \"string\") {\n      console.log(\"Could not submit. Not all fields are valid.\");\n    } else {\n      let username = this.fields[\"Username or Email\"].getValue();\n      let pass = this.fields[\"Password\"].getValue();\n      let obj = {};\n      obj[\"username\"] = username;\n      obj[\"password\"] = pass;\n      this.sendLogin(obj).then(response => {\n        console.log(response);\n        if (response.success) {\n          this.setState({ loginFailed: false });\n          this.props.appendData(response);\n          this.props.changePage(\"dashboard\");\n        } else {\n          this.setState({ loginFailed: true });\n        }\n      });\n    }\n  }\n\n  async sendLogin(obj) {\n    const response = await fetch(\"http://localhost:8080/api/login\", {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(obj)\n    });\n    return response.json();\n  }\n\n\n  onSignupLink(event) {\n    this.props.changePage(\"signup\");\n  }\n\n  loginFailedExpression() {\n    if (this.state.loginFailed) {\n      return <p className=\"warning\">Incorrect username or password.</p>\n    }\n    return <div></div>\n  }\n\n  render() {\n    return (\n      <div className=\"background\">\n        <div className={\"logo-container\"}>\n          <CDLogo className=\"logo\" />\n        </div>\n        <div className=\"tile\">\n          <h1 className=\"primary-header\">Log In</h1>\n          <TextField\n            label=\"Username or Email\"\n            isSecure={false}\n            fields={this.fields}\n          />\n          <TextField label=\"Password\" isSecure={true} fields={this.fields} />\n          <PrimaryButton label=\"Log in\" onClick={this.primaryButtonClicked} />\n          <p className=\"paragraph\">\n            Not already a user?{\" \"}\n            <a className=\"login-link\" onClick={this.onSignupLink}>\n              Sign Up\n            </a>\n          </p>\n          {this.loginFailedExpression()}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LoginPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}